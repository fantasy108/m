/*
 * Build by xuelei.kong@autostreets.com
 * Date: 2016-04-07 10:30:42
 * Version: 1.00
 */
function eqs_api(){function e(){var e="?";for(var a in this)e+="&"+a+"="+this[a];return e}var a=this,t=arguments[0],i=arguments[1]?a+e.call(arguments[1]):a;$.ajax({type:"GET",url:i,dataType:"jsonp",jsonp:"jsoncallback",async:!1,success:function(e){t(e)}})}function outwardCheck(){eqs_api.call(eqs.outwardCheck,getAppearanceParam)}function outwardCheck_item(){eqs_api.call(eqs.outwardCheckItem,getAppearance,{vehicleId:vehicleId})}function vehicleAccessory(){eqs_api.call(eqs.getVehicleAccessory,getVehicleAccessory,{vehicleId:vehicleId})}function photoStars(){eqs_api.call(eqs.getPhotoStars,getPhotoStars,{vehicleId:vehicleId})}function checkResult(){eqs_api.call(eqs.getCheckResult,getCheckResult,{vehicleId:vehicleId})}function baseInfo(){eqs_api.call(eqs.getBaseInfo,getBaseInfo,{vehicleId:vehicleId})}function secHandCondition(){eqs_api.call(eqs.getCondition,secHandGetCondition,{vehicleId:vehicleId})}function condition(){eqs_api.call(eqs.getCondition,getCondition,{vehicleId:vehicleId})}function conditionParam(){eqs_api.call(eqs.getConditionParam,getConditionParam)}function bi(){eqs_api.call(eqs.getBi,getBi,{userId:userId})}function checkItemCollect(){eqs_api.call(eqs.getCheckItemCollect,getCheckItemCollect,{vehicleId:vehicleId})}function frameParam(){eqs_api.call(eqs.getFrameParam,getFrameParam,{vehicleId:vehicleId})}function frame(){eqs_api.call(eqs.getFrame,getFrame,{vehicleId:vehicleId})}function interiorParam(){eqs_api.call(eqs.getInteriorParam,getInteriorParam,{vehicleId:vehicleId})}function interior_item(){eqs_api.call(eqs.getInterior,getInterior_item,{vehicleId:vehicleId})}function frame2(){eqs_api.call(eqs.getFrame,getFrame2,{vehicleId:vehicleId})}function interior(){eqs_api.call(eqs.getInterior,getInterior,{vehicleId:vehicleId})}function secHandCheck(){eqs_api.call(eqs.outwardCheckItem,secHandGetAppearance,{vehicleId:vehicleId})}function customerNeed(){eqs_api.call(eqs.getCustomerNeed,getCustomerNeed,{vehicleId:vehicleId})}function customerNeeds(){eqs_api.call(eqs.customerNeeds,getCustomerNeeds,{userId:userId})}function customerNeed2(){eqs_api.call(eqs.getCustomerNeed,getCustomerNeed2,{vehicleId:vehicleId})}function popup(e){$(".error_layer .error_txt").text(e),$(".error_layer").show(),$(".tipbg").show()}function popdown(){$(".error_layer").hide(),$(".tipbg").hide()}function popup2(e){$(".error_layer2 .error_txt").text(e),$(".error_layer2").show(),$(".tipbg").show()}function popdown2(){$(".error_layer2").hide(),$(".tipbg").hide()}function sale_need_selected(e){$("#start_pr,#start_pr i,#bottom_pr,#bottom_pr i,#sale_pr,#sale_pr i").hide();var a=e;switch(a){case"网上寄售":$("#start_pr,#bottom_pr,#sale_pr").show();break;case"展厅寄售":$("#sale_pr,#sale_pr i").show();break;case"车道拍卖":$("#start_pr,#bottom_pr,#start_pr i").show();break;case"网上有底价拍卖":$("#start_pr,#bottom_pr,#start_pr i,#bottom_pr i").show();break;case"网上无底价拍卖":$("#start_pr,#bottom_pr,#start_pr i").show();break;default:$("#start_pr,#bottom_pr").show()}}function province_selected(e){var a=e,t='<option value="">请选择</option>',i=$("#city").children("select");$.each(locationPro_array,function(e,i){if(i==a){var l=locationCity_array[e];return console.log(l),$.each(l,function(e,a){t+='<option value="'+a+'">'+a+"</option>"}),!1}}),$("#city select").removeAttr("disabled"),i.empty().append(t)}function detail_shop(e){for(var a=e,t='<option value="">请选择</option>',i=$("#detail_shop").children("select"),l=orgChildId_array[a-1].length,s=0;l>s;s++)t+='<option value="'+orgChildId_array[a-1][s]+'">'+orgChildName_array[a-1][s]+"</option>";$("#detail_shop select").removeAttr("disabled"),i.empty().append(t)}function common_popupWindow(e){function a(){var a=e||{title:"默认标题",closeBtn:!1,content:"描述文字。。。",btnYes:{text:"确定",url:"http://www.yhd.com"},btnNo:{text:"取消",url:"http://www.yhd.com"}};if(a.closeBtn)var i='<b class="close"></b>';else var i="";if(a.hasOwnProperty("title"))var l='<div class="title">'+a.title+"</div>";else var l="";if(a.hasOwnProperty("btnYes"))var s='<a href="'+a.btnYes.url+'" class="btn_public btnYes">'+a.btnYes.text+"</a>";else var s="";if(a.hasOwnProperty("btnNo"))var r='<a href="'+a.btnNo.url+'" class="btn_public btnNo">'+a.btnNo.text+"</a>";else var r="";var n='<div class="popup_wrap">'+l+i+'<div class="text">'+a.content+'</div><div class="btn_box">'+r+s+"</div></div>",o=document.createElement("div");o.id="popupTipsLocation",o.innerHTML=n,document.body.appendChild(o),o.querySelector(".close")&&close.addEventListener("click",function(){t()},!1);o.querySelector(".popup_wrap"),o.querySelector(".popup_wrap");o.querySelector(".btnNo")&&o.querySelector(".btnNo").addEventListener("click",function(){t()},!1),o.querySelector(".btnYes")&&o.querySelector(".btnYes").addEventListener("click",function(){t(),a.btnYes.callback&&a.btnYes.callback()},!1)}function t(){var e=document.querySelector("#popupTipsLocation");e.parentNode.removeChild(e)}a()}function goBackConfirm(){common_popupWindow({content:"是否返回，填写的内容将不保存！",btnNo:{text:"取消",url:"javascript:void(0)"},btnYes:{text:"确定",url:"javascript:history.go(-1)"}})}function _form(e,a,t,i,l){var s={},r=[],n={itemConfigId:e,photoUrl:t,good:a,damageStatusSelected:i,damageLevelSelected:l};r.push(n),s.checkitemList=JSON.stringify(r),sessionStorage.vehicleId&&(s.vehicleId=sessionStorage.vehicleId),sessionStorage.appraiserId&&(s.userId=sessionStorage.appraiserId);var o="m/eqs/saveCheckItems";console.log(n),$.mAjax({type:"POST",url:o,data:s,success:function(e){e.success?sessionStorage.vehicleId=e.data:alert(e.msg)}})}function list_height(){var e=$(window).height();return e-40-32-$(".driver_card").height()-$(".clear_data").height()-$(".detail_title").height()}var sitUrl="http://eqs.autostreets.com",imgUrl="http://images.autostreets.com/",vehicleId=sessionStorage.vehicleId?sessionStorage.vehicleId:"",userId=sessionStorage.appraiserId?sessionStorage.appraiserId:"",dataUrl=[],eqs={},len_leakage;eqs.customerNeeds=sitUrl+"/m/eqs/getCustomerNeeds",eqs.outwardCheck=sitUrl+"/m/eqs/getAppearanceParam",eqs.outwardCheckItem=sitUrl+"/m/eqs/getAppearance",eqs.getCheckItemCollect=sitUrl+"/m/eqs/getCheckItemCollect",eqs.getBi=sitUrl+"/m/usereqs/bi",eqs.getConditionParam=sitUrl+"/m/eqs/getConditionParam",eqs.getCondition=sitUrl+"/m/eqs/getCondition",eqs.getBaseInfo=sitUrl+"/m/eqs/getBaseInfo",eqs.getPhotoStars=sitUrl+"/m/eqs/getPhotoStars",eqs.getVehicleAccessory=sitUrl+"/m/eqs/getVehicleAccessory",eqs.getCustomerNeed=sitUrl+"/m/eqs/getCustomerNeed",eqs.getInteriorParam=sitUrl+"/m/eqs/getInteriorParam",eqs.getInterior=sitUrl+"/m/eqs/getInterior",eqs.getFrameParam=sitUrl+"/m/eqs/getFrameParam",eqs.getFrame=sitUrl+"/m/eqs/getFrame",eqs.getCheckResult=sitUrl+"/m/eqs/getCheckResult";var damageStatus_1=[],damageStatus_2=[],damageStatus_3=[],getAppearanceParam=function(e){var a=e.data;if(console.log(a),damageStatus_1=a.damage_status_appearance_1,damageStatus_2=a.damage_status_appearance_2,damageStatus_3=a.damage_status_appearance_3,vehicleId)outwardCheck_item();else{var t=$("#checked_point"),i=$(".harm_list"),l=harmHtml="";$.each(a.checkItem,function(e,a){l+='<li id="'+a.id+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem;">'+a.itemOrder+"</li>",harmHtml+='<li id="'+a.id+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'"><div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt"></p></div><span>是</span><i></i></li>'}),t.append(l),i.append(harmHtml)}},getAppearance=function(e){var a=e.data;console.log(a);var t=$("#checked_point"),i=$(".harm_list"),l=harmHtml="";$.each(a,function(e,a){var t,i,s,r,n=a.damageLevelSelected?a.damageLevelSelected:"",o=a.damageStatusSelected?a.damageStatusSelected:"";a.good?(t="是",s="",r="",i='<div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt"></p></div><span>'+t+"</span>"):(t="否",s='class="cur"',r=imgUrl+a.photoUrl,i='<div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt">'+n+"-"+o+'</p></div><span class="non">'+t+"</span>"),l+='<li id="'+a.itemConfigId+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" data-damageLevelSelected="'+a.damageLevelSelected+'" data-damageStatusSelected="'+a.damageStatusSelected+'" data-photoUrl="'+r+'" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem;"'+s+">"+a.itemOrder+"</li>",harmHtml+='<li id="'+a.itemConfigId+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" data-damageLevelSelected="'+a.damageLevelSelected+'" data-damageStatusSelected="'+a.damageStatusSelected+'" data-photoUrl="'+r+'">'+i+"<i></i></li>"}),t.append(l),i.append(harmHtml)},getVehicleAccessory=function(e){var a=e.data;if(a){var t="";if(t+=a.usingModel?"<li><label>使用性质</label><p>"+a.usingModel+"</p></li>":'<li><label>使用性质</label><p class="undefined">未填写</p></li>',null!=a.purchaseTaxProof){var i=a.purchaseTaxProof?"有":"无";t+="<li><label>购置附加税完税证明</label><p>"+i+"</p></li>"}else t+='<li><label>购置附加税完税证明</label><p class="undefined">未填写</p></li>';if(null!=a.propertyCertificate){var l=a.propertyCertificate?"有":"无";t+="<li><label>是否有产证</label><p>"+l+"</p></li>"}else t+='<li><label>是否有产证</label><p class="undefined">未填写</p></li>';t+=a.nextAnnualExamination?"<li><label>年审有效期</label><p>"+a.nextAnnualExamination.substr(0,10)+"</p></li>":'<li><label>年审有效期</label><p class="undefined">未填写</p></li>',t+=a.nextCompulsoryInsurance?"<li><label>交强险有效期</label><p>"+a.nextCompulsoryInsurance.substr(0,10)+"</p></li>":'<li><label>交强险有效期</label><p class="undefined">未填写</p></li>',t+=a.transferNumber?"<li><label>过户次数</label><p>"+a.transferNumber+"</p></li>":'<li><label>过户次数</label><p class="undefined">未填写</p></li>',t+=null!=a.annexKey?"<li><label>钥匙数</label><p>"+a.annexKey+"把</p></li>":'<li><label>钥匙数</label><p class="undefined">未填写</p></li>',t+=a.accessoryRemark?'<li><label>备注</label><p class="bz">'+a.accessoryRemark+"</p></li>":"",a.accessoryList?$.each(a.accessoryList,function(e,a){t+="<li><label>"+a.accessoryName+"</label><p>"+a.optionSelected+"</p></li>"}):$.each(a.nameList,function(e,a){t+="<li><label>"+a+"</label><p>未见</p></li>"}),$("#attachment_info").empty().append(t),$("#attachment_info li").each(function(){var e=$(this).children("p").text();("null"==e||"undefined"==e||null==e||void 0==e)&&$(this).children("p").text("")})}secHandCheck()},getPhotoStars=function(e){var a=e.data;if(a){var t="";$.each(a,function(e,a){t+='<li><img id="'+a.configId+'" src="'+imgUrl+a.photoUrl+'" /></li>'}),$(".cpic_list").empty().append(t)}vehicleAccessory()},getCheckResult=function(e){var a=e.data;a&&(a.del||$(".detele").removeClass("green"),a.upload||$(".form").removeClass("green"))},getBaseInfo=function(e){checkResult();var a=e.data;if(console.log(a),a){switch(a.auditedStatus){case 0:$(".state").show();break;case 1:$(".state2").show(),$(".edit").addClass("gley");break;case 2:$(".state3").show().children("p").text(null==a.handle||void 0==a.handle?"失败原因:暂无":"失败原因:"+a.handle);break;case 3:$(".state3").show().children("p").text("失败原因:vin码重复");break;case 99:$(".state4").show()}var t,i=$(".car_content"),l=a.selledName?a.selledName:"";t=0==parseInt(a.score)?0:""!=a.score?a.score:100;var s=a.grade?a.grade:"A",r=a.code?a.code:"",n=a.licenseCode?a.licenseCode:"",o=a.registerLicenseYears?a.registerLicenseYears:"",c=(a.vehicleLicenseUrl?a.vehicleLicenseUrl:"",a.brand?a.brand:"");switch(i.children("h4").text(c+" "+l),i.children(".rank").text(t+s),s){case"A":i.children(".rank").addClass("high");break;case"B":i.children(".rank").addClass("top");break;case"C":i.children(".rank").addClass("middle");break;case"D":i.children(".rank").addClass("low")}if($("#car_code").text(r),$("#licenseCode,#licenseCode2").text(n),$("#registerLicenseYears,#registerLicenseYears2").text(o),a.vehicleLicenseUrl?$(".base_info").attr("src",imgUrl+a.vehicleLicenseUrl):$(".base_info").remove(),$("#vehicleModel").text(c+" "+l),0==a.clearDisplayMileage?$("#displayMileage").text("无法显示"):a.displayMileage||0==parseInt(a.displayMileage)?$("#displayMileage").text(a.displayMileage+"公里"):$("#displayMileage").text("未填写").addClass("undefined"),$("#producedYear").text(a.producedYears),$("#engineCode").text(a.engineCode),$("#sweptVolume").text(a.sweptVolume?a.sweptVolume.toFixed(1)+a.sweptVolumeType:""),$("#oilType").text(a.oilType),null==a.registerCity?$("#registerCity").addClass("undefined").text("未填写"):$("#registerCity").text(a.registerProvince+a.registerCity),null==a.currentProvince?$("#currentProvince").addClass("undefined").text("未填写"):$("#currentProvince").text(a.currentProvince+a.currentCity),$("#transmissionType").text(a.transmissionType),$("#bodyColor").text(a.bodyColor),null==a.power?$("#power").addClass("undefined").text("未填写"):$("#power").text(a.power+"kw"),$("#vinCode").text(a.vinCode),a.featureItemList){var d="";$.each(a.featureItemList,function(e,a){d+="<li>"+a+"</li>"}),$(".base_config").empty().append(d)}if(a.personalFeatureItemList){var p="";$.each(a.personalFeatureItemList,function(e,a){p+="<li>"+a+"</li>"}),$(".personal_config").empty().append(p)}$("#base_info li").each(function(){var e=$(this).children("p").text();console.log(e),(""==e||"null"==e||"undefined"==e||null==e||void 0==e||" "==e)&&$(this).children("p").addClass("undefined").text("未填写")}),a.checkitemScoreList&&$.each(a.checkitemScoreList,function(e,a){"车身外观"==a.categoryName?$("#outside_score").text(a.score):"驾驶舱"==a.categoryName&&$("#inside_score").text(a.score)})}photoStars()},secHandGetCondition=function(e){var a=e.data;if(a){var t="";$.each(a,function(e,a){var i;0==a.good?i="否":null==a.good&&(i="无"),a.good||(t+="<li><p>"+a.itemDesc+"</p><span>"+i+"</span></li>")}),$(".state_list").append(t)}customerNeed()},getCondition=function(e){var a=e.data,t="";a&&($.each(item_obj,function(e,i){var l,s,r="",n="";10==item_obj[e].key?($.each(a,function(a,i){console.log(i),i.subCategory==item_obj[e].key&&(t='<div class="car_title"><h3 id="item_'+e+'">'+item_obj[e].val+"</h3></div>",l='<ul class="other">',r+='<li id="'+i.itemConfigId+'"><span>'+i.itemDesc+'</span><div class="other_radio"><input type="radio" name="'+i.itemConfigId+'" value="yes" checked><label>是</label><input type="radio" name="'+i.itemConfigId+'" value="no"><label>否</label><input type="radio" name="'+i.itemConfigId+'" value="null"><label>无</label></div></li>')}),l+=r+"</ul>",$(".state_check").append(t+l)):($.each(a,function(a,i){if(console.log(i),i.subCategory==item_obj[e].key){t='<div class="car_title"><h3 id="item_'+e+'">'+item_obj[e].val+"</h3></div>",s='<ul class="driver">';var l;if(i.showDamageLevel){l='<ul class="leak">';for(var r=1;len_leakage+1>r;r++)l+="<li>"+r+"个渗漏点</li>";l+="</ul>"}else l="";n+='<li id="'+i.itemConfigId+'"><span>'+i.itemDesc+'</span><div class="other_radio"><input type="radio" name="'+i.itemConfigId+'" value="yes" checked><label>是</label><input type="radio" name="'+i.itemConfigId+'" value="no"><label>否</label></div>'+l+"</li>"}}),n&&(s+=n+"</ul>",$(".state_check").append(t+s)))}),$.each(a,function(e,a){$(".driver li").each(function(){$(this).attr("id")==a.itemConfigId&&(a.good||($(this).children().children("input").eq(1).attr("checked",!0),a.damageLevelSelected&&($(this).data("damageLevelSelected",a.damageLevelSelected),$(this).children("span").append("<i>("+a.damageLevelSelected+")</i>")),("发动机机油是否无冷却液混入"==$(this).children("span").text()||"车内是否无水泡痕迹"==$(this).children("span").text())&&$(this).addClass("cur")))}),$(".other li").each(function(){$(this).attr("id")==a.itemConfigId&&(0==a.good?$(this).children().children("input").eq(1).attr("checked",!0):null==a.good&&$(this).children().children("input").eq(2).attr("checked",!0))})})),$(".leak li").on("click",function(){var e=$(this).text();$(this).parent().parent().attr("data-damagelevelleakage",e),$(this).parent().parent().children("span").find("i").remove(),$(this).parent().parent().children("span").append("<i>("+e+")</i>"),$(this).parent().parent().attr("data-state",1),$(this).parent().hide(),$(".leak,.tipbg").hide()})},item_obj=[],getConditionParam=function(e){var a,t=e.data,i="";for(var l in t.item)item_obj.push({key:l,val:t.item[l]});len_leakage=t.damage_level_leakage.length,vehicleId?condition():($.each(t.item,function(e,l){console.log(t),10==e?(i+='<div class="car_title"><h3 id="item_'+e+'">'+l+"</h3></div>",a='<ul class="other">',$.each(t.checkItem,function(t,i){i.subCategory==e&&(a+='<li id="'+i.id+'"><span>'+i.itemDesc+'</span><div class="other_radio"><input type="radio" name="'+i.id+'" value="yes" checked><label>是</label><input type="radio" name="'+i.id+'" value="no"><label>否</label><input type="radio" name="'+i.id+'" value="null"><label>无</label></div></li>')}),a+="</ul>",i+=a):(i+='<div class="car_title"><h3 id="item_'+e+'">'+l+"</h3></div>",a='<ul class="driver">',$.each(t.checkItem,function(i,l){if(l.subCategory==e){var s;if(l.showDamageLevel){s='<ul class="leak">';for(var i=0;len_leakage>i;i++)s+="<li>"+t.damage_level_leakage[i]+"</li>";s+="</ul>"}else s="";a+='<li id="'+l.id+'"><span>'+l.itemDesc+'</span><div class="other_radio"><input type="radio" name="'+l.id+'" value="yes" checked><label>是</label><input type="radio" name="'+l.id+'" value="no"><label>否</label></div>'+s+"</li>"}}),a+="</ul>",i+=a)}),$(".state_check").append(i)),$(".driver").each(function(){""==$(this).text()&&($(this).prev().remove(),$(this).remove())}),$(".leak li").on("click",function(){var e=$(this).text();$(this).parent().parent().attr("data-damagelevelleakage",e),$(this).parent().parent().children("span").find("i").remove(),$(this).parent().parent().children("span").append("<i>("+e+")</i>"),$(this).parent().parent().attr("data-state",1),$(this).parent().hide(),$(".leak,.tipbg").hide()})},getBi=function(e){var a,t=e.data,i=sessionStorage.userInfo;a=JSON.parse(i);var l=$(".pc_top");l.children("h3").text(a.name),l.children("p").text(a.orgName),a.headInco?l.children(".head").children("img").attr("src",imgUrl+a.headInco):l.children(".head").children("img").attr("src","http://img.autostreetscdn.com/m/build/1.00/images/eqs/head.png"),t&&($("#this_month").text(t.thisMonthAuditedVehicle),$("#last_month").text(t.lastMonthAuditedVehicle),$("#this_season").text(t.thisSeasonAuditedVehicle))},getCheckItemCollect=function(e){var a=e.data,t="";$.each(a,function(e,a){t+=a+"；<br />"}),$("#cic").empty().append(t)},damageStatus_5,getFrameParam=function(e){var a=e.data;if(console.log(a),damageStatus_5=a.damage_status_frame,vehicleId)frame();else{var t=$("#checked_point"),i=$(".harm_list"),l=harmHtml="";$.each(a.checkItem,function(e,a){l+='<li id="'+a.id+'"  data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem;">'+a.itemOrder+"</li>",harmHtml+='<li id="'+a.id+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" ><div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt"></p></div><span>是</span><i></i></li>'}),t.append(l),i.append(harmHtml)}},getFrame=function(e){var a=e.data;console.log(a);var t=$("#checked_point"),i=$(".harm_list"),l=harmHtml="";$.each(a,function(e,a){var t,i,s,r,n=(a.damageLevelSelected?a.damageLevelSelected:"",a.damageStatusSelected?a.damageStatusSelected:"");a.good?(t="是",s="",r="",i='<div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt"></p></div><span>'+t+"</span>"):(t="否",s='class="cur"',r=imgUrl+a.photoUrl,i='<div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt">'+n+'</p></div><span class="non">'+t+"</span>"),l+='<li id="'+a.itemConfigId+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" data-damageLevelSelected="'+a.damageLevelSelected+'" data-damageStatusSelected="'+a.damageStatusSelected+'" data-photoUrl="'+r+'" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem;"'+s+">"+a.itemOrder+"</li>",harmHtml+='<li id="'+a.itemConfigId+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" data-damageLevelSelected="'+a.damageLevelSelected+'" data-damageStatusSelected="'+a.damageStatusSelected+'" data-photoUrl="'+r+'">'+i+"<i></i></li>"}),t.append(l),i.append(harmHtml)},damageStatus_4,getInteriorParam=function(e){var a=e.data;if(console.log(a),a)if(damageStatus_4=a.damage_status_interior,vehicleId)interior_item();else{var t=$("#checked_point"),i=$(".harm_list"),l=harmHtml="";$.each(a.checkItem,function(e,a){l+='<li id="'+a.id+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem;">'+a.itemOrder+"</li>",harmHtml+='<li id="'+a.id+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" ><div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt"></p></div><span>是</span><i></i></li>'}),t.append(l),i.append(harmHtml)}},getInterior_item=function(e){var a=e.data;console.log(a);var t=$("#checked_point"),i=$(".harm_list"),l=harmHtml="";$.each(a,function(e,a){var t,i,s,r,n=(a.damageLevelSelected?a.damageLevelSelected:"",a.damageStatusSelected?a.damageStatusSelected:"");a.good?(t="是",s="",r="",i='<div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt"></p></div><span>'+t+"</span>"):(t="否",s='class="cur"',r=imgUrl+a.photoUrl,i='<div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt">'+n+'</p></div><span class="non">'+t+"</span>"),l+='<li id="'+a.itemConfigId+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" data-damageLevelSelected="'+a.damageLevelSelected+'" data-damageStatusSelected="'+a.damageStatusSelected+'" data-photoUrl="'+r+'" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem;"'+s+">"+a.itemOrder+"</li>",harmHtml+='<li id="'+a.itemConfigId+'" data-showDamageStatus="'+a.showDamageStatus+'" data-showDamageLevel="'+a.showDamageLevel+'" data-damageStatusOption="'+a.damageStatusOption+'" data-damageLevelSelected="'+a.damageLevelSelected+'" data-damageStatusSelected="'+a.damageStatusSelected+'" data-photoUrl="'+r+'">'+i+"<i></i></li>"}),t.append(l),i.append(harmHtml)},getFrame2=function(e){var a=e.data;if(a){var t="",i="";$.each(a,function(e,a){var l=a.damageStatusSelected?a.damageStatusSelected:"";a.good||(t+='<li class="cur" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem">'+a.itemOrder+"</li>",i+='<li id="'+a.itemConfigId+'" data-photoUrl="'+imgUrl+a.photoUrl+'"><div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt">'+l+"</p></div><i></i></li>")}),$("#skeleton_checked_point").append(t),$("#skeleton_list").append(i)}secHandCondition()},getInterior=function(e){var a=e.data;if(a){var t="",i="";$.each(a,function(e,a){var l=a.damageStatusSelected?a.damageStatusSelected:"";a.good||(t+='<li class="cur" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem">'+a.itemOrder+"</li>",i+='<li id="'+a.itemConfigId+'" data-photoUrl="'+imgUrl+a.photoUrl+'"><div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt">'+l+"</p></div><i></i></li>")}),$("#inside_checked_point").append(t),$("#inside_list").append(i)}frame2()},secHandGetAppearance=function(e){var a=e.data;if(console.log(a),a){var t="",i="";$.each(a,function(e,a){var l=a.damageLevelSelected?a.damageLevelSelected:"",s=a.damageStatusSelected?a.damageStatusSelected:"";a.good||(t+='<li class="cur" style="left:'+a.axisx/150+"rem;top:"+a.axisy/150+'rem">'+a.itemOrder+"</li>",i+='<li id="'+a.itemConfigId+'" data-photoUrl="'+imgUrl+a.photoUrl+'"><div class="desribe"><p>'+a.itemOrder+"."+a.itemDesc+'</p><p class="txt">'+l+"-"+s+"</p></div><i></i></li>")}),$("#checked_point").append(t),$("#outside_list").append(i)}interior()},getCustomerNeed=function(e){var a=e.data;if(a){if($("#requirementType").text(a.requirementType),$("#vehicleDesc").text(a.vehicleDesc),a.startBidPrice||0==parseInt(a.startBidPrice)?$("#startBidPrice").text(a.startBidPrice):$("#startBidPrice").parent().hide(),a.reservePrice||0==parseInt(a.reservePrice)?$("#reservePrice").text(a.reservePrice):$("#reservePrice").parent().hide(),a.salePrice||0==parseInt(a.salePrice)?$("#salePrice").text(a.salePrice):$("#salePrice").parent().hide(),null==a.trafficViolationFines?$("#trafficViolationFines").parent().hide():$("#trafficViolationFines").text(a.trafficViolationFines+"承担"),null!=a.saleInsurance){var t=a.saleInsurance?"是":"否";$("#saleInsurance").text(t)}a.remark?$("#remark").text(a.remark):$("#remark").parent().hide(),a.other?$("#other").text(a.other):$("#other").parent().hide();var i="";$.each(a.otherPhotoList,function(e,a){i+='<li><img src="'+imgUrl+a.photoUrl+'"/></li>'}),$(".need_pic").append(i),$(".need_list li").each(function(){var e=$(this).children("span").text(),a=$(this).children("p").text();("null"==e||"undefined"==e||null==e||void 0==e)&&$(this).children("span").text(""),("null"==a||"undefined"==e||null==e||void 0==e)&&$(this).children("p").text("")})}},locationPro_array=[],locationCity_array=[],orgChildId_array=[],orgChildName_array=[],getCustomerNeeds=function(e){var a=e.data;if(console.log(a),a){var t=$("#province").children("select"),i=$("#group_name").children("select"),l=$("#sale_need").children("select"),s=$("#car_nature").children("select"),r='<option value="">请选择</option>',n='<option value="">请选择</option>',o='<option value="">请选择</option>',c="";a.location&&$.each(a.location,function(e,a){r+='<option value="'+a.province+'">'+a.province+"</option>",locationPro_array.push(a.province),locationCity_array.push(a.cityList)}),a.organ&&$.each(a.organ,function(e,a){if(n+='<option value="'+a.name+'" id="'+a.orgId+'">'+a.name+"</option>",a.childrens){{a.childrens.length}orgChildId_array[e]=[],orgChildName_array[e]=[],$.each(a.childrens,function(a,t){orgChildId_array[e][a]=t.orgId,orgChildName_array[e][a]=t.name})}}),a.requirementType&&$.each(a.requirementType,function(e,a){o+='<option value="'+a+'">'+a+"</option>"}),a.vehiclePpe&&$.each(a.vehiclePpe,function(e,a){c+='<option value="'+a+'">'+a+"</option>"}),t.empty().append(r),i.append(n),l.append(o),s.append(c);for(var d=JSON.parse(sessionStorage.userInfo),p=$("#group_name").children("select").children("option"),h=p.length,m=0;h>m;m++)if(p[m].text==d.groupName){p[m].selected=!0,detail_shop(p[m].index);break}for(var u=$("#detail_shop").children("select").children("option"),h=u.length,g=0;h>g;g++)u[g].value==d.orgId&&(u[g].selected=!0);customerNeed2()}},getCustomerNeed2=function(e){var a=e.data;if(console.log(a),a){for(var t=$("#group_name").children("select").children("option"),i=t.length,l=0;i>l;l++)if(t[l].text==a.orgName){t[l].selected=!0,detail_shop(t[l].index);break}for(var s=$("#detail_shop").children("select").children("option"),i=s.length,r=0;i>r;r++)s[r].value==a.vehicleSrcId&&(s[r].selected=!0);var n=a.vehicleSrcType;if(3==n){$(".group2").hide(),$(".personal").show(),$("#personal").attr("checked",!0);var o=$(".personal li");o.eq(0).children("input").val(a.custName),o.eq(1).children("input").val(a.custPhone),o.eq(4).children("input").val(a.custAddress);for(var c=o.eq(2).children("select").children("option"),i=c.length,l=0;i>l;l++)if(c[l].text==a.custProvince){c[l].selected=!0,province_selected(c[l].text);for(var d=$("#city").children("select"),p=d.children("option").length,r=0;p>r;r++)if(d.children("option")[r].text==a.custCity){d.children("option")[r].selected=!0;break}break}}else{$(".group2").show(),$(".personal").hide(),$("#group").attr("checked",!0);for(var h=$("#car_nature").children("select").children("option"),i=h.length,r=0;i>r;r++)h[r].text==a.vehiclePpe&&(h[r].selected=!0)}for(var m=$("#sale_need").children("select").children("option"),i=m.length,u=0;i>u;u++)m[u].text==a.requirementType&&(m[u].selected=!0,sale_need_selected(m[u].text));(a.startBidPrice||0==parseInt(a.startBidPrice))&&$("#start_pr").children("input").val(a.startBidPrice),(a.reservePrice||0==parseInt(a.reservePrice))&&$("#bottom_pr").children("input").val(a.reservePrice),(a.salePrice||0==parseInt(a.salePrice))&&$("#sale_pr").children("input").val(a.salePrice),a.trafficViolationFines&&("上家"==a.trafficViolationFines?$("#seller").addClass("cur").siblings().removeClass("cur"):$("#buyer").addClass("cur").siblings().removeClass("cur")),null!=a.saleInsurance&&(1==a.saleInsurance?$("#yes").addClass("cur").siblings().removeClass("cur"):$("#no").addClass("cur").siblings().removeClass("cur")),$("#remark").val(a.remark),$("#cic").text(a.vehicleDesc),$("#other_remark").val(a.other);var g=[];if(a.otherPhotoList){$.each(a.otherPhotoList,function(e,a){g.push(a.photoUrl)});for(var i=g.length,l=1;i+1>l;l++){var o=$("#need_photo"+l);o.show().children("img").attr("src",imgUrl+g[l-1]),3>l&&$("#need_photo"+(l+1)).show()}}}};$(".back").length&&document.querySelector(".back").addEventListener("click",goBackConfirm),$(function(){var e=!1;$(".harm_class h3").on("click",function(){$("p.harm_notice").css("top","70px").addClass("notice_show"),$(".tipbg").show(),e=!0}),$(".tipbg").on("click",function(){e&&($("p.harm_notice").css("top","-100%").removeClass("notice_show"),$(this).hide())})});