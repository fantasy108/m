/*
 * Build by xuelei.kong@autostreets.com
 * Date: 2016-04-07 10:30:42
 * Version: 1.00
 */
!function(t,n){"use strict";function e(t,n,e){n.css({"-webkit-transition":"all "+e+"s "+t.opts.transitionType,transition:"all "+e+"s "+t.opts.transitionType})}function i(t,n,e){var i=t.opts.axisX?e+"px,0,0":"0,"+e+"px,0";n.css({"-webkit-transform":"translate3d("+i+")",transform:"translate3d("+i+")"})}function o(t,e){var i=t.opts.ul.children(),o=i.eq(e).find("[data-src]");o&&o.each(function(t){var e=n(this);e.is("img")?(e.attr("src",e.data("src")),e.removeAttr("data-src")):(e.css({"background-image":"url("+e.data("src")+")"}),e.removeAttr("data-src"))})}function s(t){g.touch&&!t.touches&&(t.touches=t.originalEvent.touches)}function a(t,n){n._startTime=Date.now(),n.isScrolling=void 0,n._moveDistance=n._moveDistanceIE=0,n._startX=g.touch?t.touches[0].pageX:t.pageX||t.clientX,n._startY=g.touch?t.touches[0].pageY:t.pageY||t.clientY}function c(t,n){n.opts.autoSwipe&&u(n),n.allowSlideClick=!1,n._curX=g.touch?t.touches[0].pageX:t.pageX||t.clientX,n._curY=g.touch?t.touches[0].pageY:t.pageY||t.clientY,n._moveX=n._curX-n._startX,n._moveY=n._curY-n._startY,"undefined"==typeof n.isScrolling&&(n.isScrolling=n.opts.axisX?!!(Math.abs(n._moveX)>=Math.abs(n._moveY)):!!(Math.abs(n._moveY)>=Math.abs(n._moveX))),n.isScrolling&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e(n,n.opts.ul,0),n._moveDistance=n._moveDistanceIE=n.opts.axisX?n._moveX:n._moveY),i(n,n.opts.ul,-(n._slideDistance*n._index-n._moveDistance))}function l(t){return t._endTime=Date.now(),t.isScrolling||r(t),(p.ie10||p.ie11)&&(Math.abs(t._moveDistanceIE)<5&&(t.allowSlideClick=!0),setTimeout(function(){t.allowSlideClick=!0},100)),(0==t._index&&t._moveDistance>0||t._index+1>=t._liLength&&t._moveDistance<0)&&!t.opts.continuousScroll?void t.goTo(t._index):(Math.abs(t._moveDistance)<=t._distance&&t._endTime-t._startTime>600?d(t,"",t.opts.during/1e3):t._moveDistance>0?d(t,"prev",t.opts.during/1e3):Math.abs(t._moveDistance)>0&&(console.log(t._index),d(t,"next",t.opts.during/1e3)),void(t._moveDistance=t._moveDistanceIE=0))}function r(t){t.opts.autoSwipe&&(u(t),t.autoSlide=setInterval(function(){d(t,"next",t.opts.during/1e3)},t.opts.speed))}function u(t){clearInterval(t.autoSlide)}function d(t,n,e){"number"==typeof n?(t._index=n,t.opts.lazyLoad&&(t.opts.continuousScroll?(o(t,t._index),o(t,t._index+1),o(t,t._index+2)):(o(t,t._index-1),o(t,t._index),o(t,t._index+1)))):"next"==n?(t._index++,t.opts.lazyLoad&&(t.opts.continuousScroll?(o(t,t._index+2),t._index+1==t._liLength?o(t,1):t._index==t._liLength&&o(t,0)):o(t,t._index+1))):"prev"==n&&(t._index--,t.opts.lazyLoad&&(t.opts.continuousScroll?(o(t,t._index),0==t._index?o(t,t._liLength):t._index<0&&o(t,t._liLength-1)):o(t,t._index-1))),t.opts.continuousScroll?t._index>=t._liLength?(_(t,e),t._index=0,setTimeout(function(){_(t,0)},t.opts.during)):t._index<0?(_(t,e),t._index=t._liLength-1,setTimeout(function(){_(t,0)},t.opts.during)):_(t,e):(t._index>=t._liLength?t._index=0:t._index<0&&(t._index=t._liLength-1),_(t,e)),""!==arguments[1]&&t.opts.callback(t._index,t._liLength,t.$el),t.triggerBtn.eq(t._index).addClass(t.opts.currCls).siblings().removeClass(t.opts.currCls)}function _(t,n){e(t,t.opts.ul,n),i(t,t.opts.ul,-t._index*t._slideDistance)}var p={ie10:t.navigator.msPointerEnabled,ie11:t.navigator.pointerEnabled},h=["touchstart","touchmove","touchend"],g={touch:t.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)}()};p.ie10&&(h=["MSPointerDown","MSPointerMove","MSPointerUp"]),p.ie11&&(h=["pointerdown","pointermove","pointerup"]);var x={touchStart:h[0],touchMove:h[1],touchEnd:h[2]};n.fn.swipeSlide=function(t){var n=[];return this.each(function(e,i){n.push(new v(i,t))}),n};var v=function(t,e){var i=this;i.$el=n(t),i._distance=200,i.allowSlideClick=!0,i.init(e)};v.prototype.init=function(u){function d(){var t=_.opts.ul.children();_._slideDistance=_.opts.axisX?_.opts.ul.width():_.opts.ul.height(),e(_,_.opts.ul,0),i(_,_.opts.ul,-_._slideDistance*_._index),e(_,t,0);var o=_.opts.continuousScroll?-1:0;t.each(function(t){i(_,n(this),_._slideDistance*(t+o))})}var _=this;_.opts=n.extend({},{ul:_.$el.children("ul"),li:_.$el.children().children("li"),index:0,continuousScroll:!1,autoSwipe:!0,speed:4e3,during:400,trigger:".trigger",currCls:"curr",axisX:!0,transitionType:"ease",lazyLoad:!1,firstCallback:function(){},callback:function(){}},u),_._index=_.opts.index,_._liLength=_.opts.li.length,_.isScrolling;for(var h=0;h<_._liLength;h++)n(_.opts.trigger).append('<a class="'+(0==h?_.opts.currCls:"")+'" href="javascript:void(0)"></a>');if(_.triggerBtn=n(_.opts.trigger).find("a"),_.triggerBtn.on("click",function(){_.goTo(n(this).index())}),_.opts.firstCallback(_._index,_._liLength,_.$el),_._liLength<=1)return _.opts.lazyLoad&&o(_,0),!1;if(_.opts.continuousScroll&&_.opts.ul.prepend(_.opts.li.last().clone()).append(_.opts.li.first().clone()),_.opts.lazyLoad&&(o(_,_._index),_.opts.continuousScroll?(o(_,_._index+1),o(_,_._index+2),0==_._index?o(_,_._liLength):_._index+1==_._liLength&&o(_,1)):0==_._index?o(_,_._index+1):_._index+1==_._liLength?o(_,_._index-1):(o(_,_._index+1),o(_,_._index-1))),d(),p.ie10||p.ie11){var g="";g=_.opts.axisX?"pan-y":"none",_.$el.css({"-ms-touch-action":g,"touch-action":g}),_.$el.on("click",function(){return _.allowSlideClick})}r(_),_.$el.on(x.touchStart,function(t){s(t),a(t,_)}),_.$el.on(x.touchMove,function(t){s(t),c(t,_)}),_.$el.on(x.touchEnd,function(){l(_)}),_.opts.ul.on("webkitTransitionEnd MSTransitionEnd transitionend",function(){e(_,_.opts.ul,0),r(_)}),n(t).on("onorientationchange"in t?"orientationchange":"resize",function(){clearTimeout(_.timer),_.timer=setTimeout(d,80)})},v.prototype.goTo=function(t){var n=this;d(n,t,n.opts.during/1e3),n._index=t}}(window,window.Zepto||window.jQuery);